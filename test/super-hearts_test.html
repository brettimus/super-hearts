<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>
    Testing SuperHearts
  </title>
  <style>
    html,
    body {
      height: 100%;
      margin: 0;
      padding: 0;
      width: 100%;
    }
  </style>
</head>
<body>
  <script src="./super-hearts.js"></script>
  <script>
    // var dawh = SuperHearts({
    //   translateX: [12, 300],
    //   imageHeight: 88,
    //   imageWidth: 100,
    //   imageSrc: "../lp/img/heart-icon-1.svg",
    //   transitionDuration: 400,
    //   transitionFunction: "ease-out",
    // },
    // {
    //   translateX: [120, 240],
    //   imageHeight: 88,
    //   imageWidth: 100,
    //   imageSrc: "../lp/img/heart-icon-1.svg",
    //   transitionDuration: 1000,
    //   transitionFunction: "ease-in",
    // });
    // SuperHearts.Line();

    // *** COOL PATTERNS *** //
    // 1. { imageSrc: "../lp/img/heart-icon-2.svg" }, dim = 70
    // 1. { imageSrc: "../lp/img/icon-pug.svg" }, dim = 140


    var lp_path = "../lp/img/"

    // SuperHearts.CompassAlt();
    SuperHearts.Compass({
      imageSrc: lp_path+"icon-pug.svg",
    });
    wallpaper();

    function wallpaper() {
      var h = window.innerHeight,
          w = window.innerWidth;

      var myBody = document.querySelector("body");

      var dim = 140,
          i = 0,
          j,
          to;

      for (;i*dim + 100 < h; i++) {
        for (j = 0;j*dim + 100 < w; j++) {


          to = (function(h,i,j) {
              window.requestAnimationFrame(function() {
                eventFire(myBody, "click", {
                  clientX: j*dim + 100,
                  clientY: i*dim + 100,
                });              
              })
          })(h,i,j);

          // to = (function(h,i,j) {
          //   return function() {
          //     window.requestAnimationFrame(function() {
          //       eventFire(myBody, "click", {
          //         clientX: j*dim + 100,
          //         clientY: i*dim + 100,
          //       });              
          //     })
          //   };
          // })(h,i,j);

          // setTimeout(to, i*j*dim) // alt: i*(j+dim)
        }
      }
    }

    function eventFire(el, etype, options){
        if (el.fireEvent) {
            el.fireEvent('on' + etype);
        } else {
            var evObj = document.createEvent('Events');
            extend2(evObj, options);
            evObj.initEvent(etype, true, false);
            el.dispatchEvent(evObj);
        }
    }
    function extend2(destination, source) {
        // thanks be to angus kroll
        // https://javascriptweblog.wordpress.com/2011/05/31/a-fresh-look-at-javascript-mixins/
        for (var k in source) {
            if (source.hasOwnProperty(k)) {
              destination[k] = source[k];
            }
        }
        return destination;
    }
  </script>
</body>
</html>